# =============================================================================
# B&R Capital Dashboard - Production Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values
# NEVER commit the actual .env file to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=info

# Application secret key (generate with: openssl rand -hex 32)
SECRET_KEY=your-secret-key-here-generate-with-openssl-rand-hex-32

# Backend worker processes (default: 4, adjust based on CPU cores)
BACKEND_WORKERS=4

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=dashboard_user
POSTGRES_PASSWORD=change-this-strong-password
POSTGRES_DB=dashboard_interface_data

# Full database URL (constructed from above, or override directly)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=change-this-redis-password

# Full Redis URL (constructed from above, or override directly)
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
# Port for frontend service (default: 80)
FRONTEND_PORT=80

# API URL for frontend to reach backend
VITE_API_URL=https://your-domain.com/api

# -----------------------------------------------------------------------------
# Docker Registry Configuration
# -----------------------------------------------------------------------------
DOCKER_REGISTRY=ghcr.io
REGISTRY_OWNER=your-org

# GitHub credentials for pulling images (used in CI/CD)
GITHUB_USER=deploy
GITHUB_TOKEN=ghp_your-github-token-here

# -----------------------------------------------------------------------------
# SSL/TLS Configuration
# -----------------------------------------------------------------------------
# Domain for SSL certificate
DOMAIN=your-domain.com

# Email for Let's Encrypt notifications
SSL_EMAIL=admin@your-domain.com

# -----------------------------------------------------------------------------
# External Services (Optional)
# -----------------------------------------------------------------------------

# SharePoint/Microsoft Integration
SHAREPOINT_TENANT_ID=your-tenant-id
SHAREPOINT_CLIENT_ID=your-client-id
SHAREPOINT_CLIENT_SECRET=your-client-secret
SHAREPOINT_SITE_URL=https://yourcompany.sharepoint.com/sites/yoursite

# Email/SMTP Configuration (for notifications)
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_USER=notifications@your-domain.com
SMTP_PASSWORD=your-smtp-password
SMTP_FROM=noreply@your-domain.com

# Sentry Error Tracking (optional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# -----------------------------------------------------------------------------
# Security Settings
# -----------------------------------------------------------------------------

# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com

# JWT token expiration (in minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Rate limiting
RATE_LIMIT_PER_MINUTE=100

# -----------------------------------------------------------------------------
# Monitoring & Observability
# -----------------------------------------------------------------------------

# Prometheus metrics endpoint (internal)
METRICS_ENABLED=true
METRICS_PORT=9090

# Health check endpoint
HEALTH_CHECK_PATH=/health

# -----------------------------------------------------------------------------
# Backup Configuration
# -----------------------------------------------------------------------------

# Backup retention (number of backups to keep)
BACKUP_RETENTION_COUNT=7

# Backup schedule (cron expression)
BACKUP_SCHEDULE=0 2 * * *

# Remote backup storage (S3-compatible)
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_ENDPOINT=https://s3.amazonaws.com
BACKUP_S3_ACCESS_KEY=your-access-key
BACKUP_S3_SECRET_KEY=your-secret-key

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
FEATURE_SHAREPOINT_SYNC=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_ADVANCED_ANALYTICS=false

# =============================================================================
# Notes
# =============================================================================
#
# 1. Generate secure passwords and keys:
#    - SECRET_KEY: openssl rand -hex 32
#    - POSTGRES_PASSWORD: openssl rand -base64 24
#    - REDIS_PASSWORD: openssl rand -base64 24
#
# 2. In production, consider using:
#    - Docker secrets
#    - Vault
#    - AWS Secrets Manager
#    - Azure Key Vault
#
# 3. Minimum required variables:
#    - SECRET_KEY
#    - POSTGRES_USER
#    - POSTGRES_PASSWORD
#    - REDIS_PASSWORD
#    - DOMAIN (for SSL)
#
# 4. For CI/CD (GitHub Actions), store these as repository secrets
#
# =============================================================================
