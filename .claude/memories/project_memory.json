{
  "memories": [
    {
      "type": "completed_features",
      "content": "Waves 1-10 COMPLETE (2026-01-14). Market Data Pipeline COMPLETE (2026-02-05, commit 9d4f961): DB dashboard_market_data on port 5432 with 253K records (CoStar 98K, FRED 155K, Census 30). 5 tables + 2 materialized views. Extractors: CoStar async Excel parser, FRED 17 series incremental, Census population+income. Scheduler: APScheduler cron (FRED daily, CoStar monthly, Census annual). 3-tier fallback: DB→API→mock. 6 admin endpoints for manual triggers. Frontend sparklines wired to API trends. Wave 2 audit COMPLETE (2026-02-04): Cash-on-Cash KPI corrected, GlobalSearch fully wired, useReporting silent fallbacks removed, DealStage 6-stage alignment (migration c3d4e5f6a7b8), error handling on MarketPage/ReportingSuitePage/ExtractionDashboard. CI quality gates COMPLETE (2026-02-04): blocking gates enabled, mypy/bandit/ESLint errors fixed, ruff formatting applied, safety check non-blocking, backend coverage threshold at 45%. Commits: 4e18a5b → a711b56 → 4521db3 → 1259590. 328 frontend + 1049 backend tests pass.",
      "added_at": "2026-02-06T17:23:00.000000",
      "source": "consolidated"
    },
    {
      "type": "user_preferences",
      "content": "conda env: /home/mattb/miniconda3/envs/dashboard-backend. Backend port 8000, Frontend port 5173. Git: stash apply over pop, don't push unless asked. User prefers validation/testing before new features. No agent swarms for sequential dependent tasks. Be extremely clear about what actions user needs to take; state clearly if no action needed. User prefers directness over hedging. NO mock data, NO fake data, NO silent fallbacks anywhere. Per-page review workflow: fix issues, then parallel agents for validation. Kill port: use 'fuser -k 8000/tcp'. Dashboard purpose: comprehensive deal intelligence platform tracking ALL deals pursued (not just owned). Parallel agent strategy approved for independent tasks. Commit strategy: split by logical area (e.g. backend alignment vs frontend fixes), push when asked.",
      "added_at": "2026-02-04T15:00:00.000000",
      "source": "consolidated"
    },
    {
      "type": "tech_decisions",
      "content": "pydantic-settings 2.x: CORS_ORIGINS must be JSON array. Single .env in project root, symlinked from backend/.env. Shell env var SHAREPOINT_SITE_URL overrides .env — MUST unset before extraction. Main DB: PostgreSQL localhost:5432/dashboard_interface_data. Market DB: PostgreSQL localhost:5432/dashboard_market_data. VITE_API_URL: src/lib/config.ts appends /api/v1; api.ts imports from config.ts as single source of truth. Email domain: bandrcapital.com. CI: ruff check + format on backend, tsc -b + vite build on frontend. Stale .pyc: delete __pycache__ when routes aren't matching. Redis warning (token blacklist) harmless — falls back to in-memory for dev. DealStage enum: 6-stage model (dead, initial_review, active_review, under_contract, closed, realized). Alembic migration c3d4e5f6a7b8 applied. Frontend useDeals.ts has backward-compat stage mapping for legacy DB values. Alembic requires PYTHONPATH=. when running from backend dir.",
      "added_at": "2026-02-04T15:00:00.000000",
      "source": "consolidated"
    },
    {
      "type": "extraction_config",
      "content": "SHAREPOINT EXTRACTION: 28/28 files, 0 failures. 26 properties with extraction data + 3 monitored with none. NOI = ANNUAL PER-UNIT (multiply by total_units). Filters: FILE_PATTERN=.*UW.*Model.*vCurrent.*, CUTOFF_DATE=2024-07-15. Cash-on-Cash: LP_RETURNS_PREREFI_CASH_ON_CASH (rate). Do NOT expand filter to older UW Model versions — different layouts produce errors. Future task: group models by version for separate extraction. Cell reference file: Underwriting_Dashboard_Cell_References.xlsx in project root.",
      "added_at": "2026-02-04T07:00:00.000000",
      "source": "consolidated"
    },
    {
      "type": "remaining_tasks",
      "content": "Remaining backlog (post market-data-pipeline): 1) Reporting Settings Backend Endpoint — replace defaultReportSettings mock with GET/PUT /reporting/settings. 2) Auth Security — localStorage JWT → httpOnly cookies + CSRF protection. 3) Zod Runtime Validation — add Zod schemas for API response validation on frontend. 4) Coverage Thresholds — raise test coverage targets beyond 45%. 5) Refactor _to_frontend_property() — break up 287-line function. Two currently owned deals: Cabana on 99th (Glendale, AZ) and Tempe Metro (Tempe, AZ). '4) Closed Deals' = currently owned, '5) Realized Deals' = sold/disposed. 15 CoStar Submarket Clusters. Occupancy normalized 0-1 in API.",
      "added_at": "2026-02-06T17:23:00.000000",
      "source": "consolidated"
    }
  ],
  "manual_memories": [],
  "realtime_memories": [
    {
      "type": "claude_response",
      "content": "Memories consolidated: 15 → 5. Merged CI quality gate completion into `completed_features`, replaced `deal_context` with `remaining_tasks` (updated backlog), cleared all 15 realtime entries (CI troubl",
      "added_at": "2026-02-06T17:54:21.596136",
      "source": "realtime_capture"
    },
    {
      "type": "message",
      "content": "There are a ton of uncommited files when running the \"git status\" command. Do we need to commit and push any of these? Also, why wouldn't they have been included in one of the previous commits/pushes?",
      "added_at": "2026-02-06T17:54:21.596181",
      "source": "realtime_capture"
    },
    {
      "type": "claude_response",
      "content": "Here's the breakdown. The files fall into distinct categories, and the reason they weren't committed is different for each:\n\n---\n\n## Category 1: Build artifacts that are gitignored BUT still tracked\n*",
      "added_at": "2026-02-06T17:58:11.723782",
      "source": "realtime_capture"
    },
    {
      "type": "message",
      "content": "Prior to moving forward with these items, can you first please review the latest git commit (9d4f961) issue shown below: \"Lint & Type Check -- Run Mypy type check Run mypy app/ --ignore-missing-import",
      "added_at": "2026-02-06T17:58:11.723916",
      "source": "realtime_capture"
    }
  ],
  "created_at": "2026-01-07T02:10:53.387854",
  "updated_at": "2026-02-06T17:58:11.723920"
}