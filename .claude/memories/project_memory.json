{
  "memories": [
    {
      "type": "completed_feature",
      "content": "Waves 1-10 COMPLETE (2026-01-14, commit f8381ce). Backend APIs, Market/Reporting, React Query, 18 UI components, E2E testing (258 Playwright), Performance, Security (RBAC, token blacklist, eval() RCE fix), LazyImage, usePrefetch, React.memo, VirtualList. Tests: 337 frontend + 1055 backend.",
      "added_at": "2026-01-14T15:00:00.000000",
      "source": "consolidated"
    },
    {
      "type": "user_preference",
      "content": "conda env: /home/mattb/miniconda3/envs/dashboard-backend. Backend port 8000, Frontend port 5173. Git: stash apply over pop, don't push unless asked. User prefers validation/testing before new features. No agent swarms for sequential dependent tasks. Be extremely clear about what actions user needs to take; state clearly if no action needed. User prefers directness over hedging. Dashboard purpose: comprehensive deal intelligence platform tracking ALL deals pursued (not just owned). Two currently owned deals: Cabana on 99th (Glendale, AZ) and Tempe Metro (Tempe, AZ). '4) Closed Deals' = currently owned, '5) Realized Deals' = sold/disposed. Do NOT expand extraction filter to older UW Model versions — different layouts would produce errors. Future task: group models by version for separate extraction. Kill port: use 'fuser -k 8000/tcp' (lsof -t may not work on this system).",
      "added_at": "2026-02-02T19:05:00.000000",
      "source": "consolidated"
    },
    {
      "type": "tech_decision",
      "content": "pydantic-settings 2.x: CORS_ORIGINS must be JSON array. Single .env in project root, symlinked from backend/.env. Shell env var SHAREPOINT_SITE_URL overrides .env with truncated value - MUST unset shell var before running extraction. DB: PostgreSQL localhost:5432/dashboard_interface_data (NOT SQLite — dashboard.db is 0 bytes). Cell reference file: Underwriting_Dashboard_Cell_References.xlsx in project root. VITE_API_URL fix: src/lib/config.ts always appends /api/v1 to base URL; api.ts imports API_URL from config.ts as single source of truth. Email domain: bandrcapital.com (NOT brcapital.com). CI requires: ruff check + ruff format on backend, tsc -b + vite build on frontend. Stale .pyc files can prevent --reload from picking up changes — delete __pycache__ when routes aren't matching.",
      "added_at": "2026-02-02T19:05:00.000000",
      "source": "consolidated"
    },
    {
      "type": "extraction_status",
      "content": "EXTRACTION COMPLETE (2026-02-02): 28/28 files extracted, 0 failures, 52.8s total. 26 unique properties with extraction data + 3 monitored files with no extraction data (Casitas at San Marcos, Cortland Arrowhead Summit, Town Center Apartments). NOI in extracted_values is ANNUAL PER-UNIT (multiply by total_units for total annual NOI). Some UW models have bracket placeholders ([Year Built], [City], etc.) instead of real data — _is_placeholder() detects these. Filters: FILE_PATTERN=.*UW.*Model.*vCurrent.*, CUTOFF_DATE=2024-07-15. 28 files pass (23 dead, 5 initial_review), 253 skipped.",
      "added_at": "2026-02-02T19:05:00.000000",
      "source": "consolidated"
    },
    {
      "type": "current_status",
      "content": "DATA FOUNDATION REBUILT + DEALS/INVESTMENTS FIX (2026-02-02). Seed: 30 properties (28 extraction + 2 manual closed), 30 deals, 28 documents, 2 transactions. API: _to_frontend_property() transforms flat→nested with placeholder cleaning, annual NOI (per-unit*units), computed cap rates (5-8% range). Endpoints: /properties/dashboard, /dashboard/{id}, /summary. Deals fix: useDeals.ts now maps backend response (items, snake_case) to frontend Deal type. Stage mapping: dead→closed_lost, initial_review→underwriting, closed→closed_won. Kanban hook remaps backend stages to frontend stages. Frontend hooks have USE_MOCK_DATA flag + dev fallback that silently returns mock data on API errors — this masks real issues. Multiple Vite instances can run on different ports (5173 vs 5174) showing stale data — user should close old browser tabs.",
      "added_at": "2026-02-02T19:05:00.000000",
      "source": "consolidated"
    }
  ],
  "manual_memories": [],
  "realtime_memories": [
    {
      "type": "claude_response",
      "content": "Memory consolidated to 5 entries, realtime_memories cleared. Key signals preserved: NOI is annual per-unit, `fuser -k` for killing ports, bracket placeholder detection, stage mapping, mock data fallba",
      "added_at": "2026-02-02T19:05:23.901150",
      "source": "realtime_capture"
    },
    {
      "type": "message",
      "content": "I did as you said but the \"Deals\" page still had old data.",
      "added_at": "2026-02-02T19:05:23.901178",
      "source": "realtime_capture"
    },
    {
      "type": "claude_response",
      "content": "\n\nThe old Vite instance on port 5173 is serving stale code. You need to close it too.\n\n1. **Close the browser tab** for `localhost:5173`\n2. In the terminal running the old Vite (port 5173), press **Ct",
      "added_at": "2026-02-02T19:10:26.777570",
      "source": "realtime_capture"
    },
    {
      "type": "message",
      "content": "Before running \"npm run dev",
      "added_at": "2026-02-02T19:10:26.777599",
      "source": "realtime_capture"
    },
    {
      "type": "message",
      "content": "Before running \"npm run dev\" do I need to run the backend?",
      "added_at": "2026-02-02T19:10:40.936607",
      "source": "realtime_capture"
    },
    {
      "type": "claude_response",
      "content": "\n\nYes. Start the backend first, then the frontend:\n\n**Terminal 1 (backend):**\n```bash\ncd /home/mattb/projects/dashboard_interface_project/backend\nconda activate dashboard-backend\nuvicorn app.main:app ",
      "added_at": "2026-02-02T19:18:18.296400",
      "source": "realtime_capture"
    },
    {
      "type": "message",
      "content": "The \"Deals\" page is still having issues in that it is showing the old mock data still. Additionally, the \"Mapping\" page was only showing 5 of the 30 deals, and 3 of the 5 deals either had no data or w",
      "added_at": "2026-02-02T19:18:18.296441",
      "source": "realtime_capture"
    }
  ],
  "created_at": "2026-01-07T02:10:53.387854",
  "updated_at": "2026-02-02T19:18:18.296443"
}